{"version":3,"file":"index.umd.js","sources":["../src/index.tsx"],"sourcesContent":["/**\n * Copyright 2021 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at.\n *\n *      Http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, ReactNode, useState, ReactElement } from \"react\";\nimport { Loader, LoaderOptions } from \"@googlemaps/js-api-loader\";\n\nexport enum Status {\n  LOADING = \"LOADING\",\n  FAILURE = \"FAILURE\",\n  SUCCESS = \"SUCCESS\",\n}\n\nexport interface WrapperProps extends LoaderOptions {\n  /**\n   * Children wrapped by the `<Wrapper>{elements}</Wrapper`.\n   */\n  children?: ReactNode;\n  /**\n   * Render prop used to switch on the status.\n   */\n  render?: (status: Status) => ReactElement;\n}\n\n/**\n * A component to wrap the loading of the Google Maps JavaScript API.\n *\n * ```\n * import { Wrapper } from '@googlemaps/react-wrapper';\n *\n * const MyApp = () => (\n * \t<Wrapper apiKey={'YOUR_API_KEY'}>\n * \t\t<MyMapComponent />\n * \t</Wrapper>\n * );\n * ```\n *\n * @param props\n */\nexport const Wrapper = ({\n  children,\n  render,\n  ...options\n}: WrapperProps): ReactElement => {\n  const [status, setStatus] = useState(Status.LOADING);\n\n  useEffect(() => {\n    new Loader(options).load().then(\n      () => setStatus(Status.SUCCESS),\n      () => setStatus(Status.FAILURE)\n    );\n  }, []);\n\n  if (status === Status.SUCCESS && children) return <>{children}</>;\n\n  if (render) return render(status);\n\n  return <></>;\n};\n"],"names":["Status","useState","useEffect","Loader","React"],"mappings":";;;;;;;;;;EAAA;;;;;;;;;;;;;;;AAmBYA;EAAZ,WAAY,MAAM;MAChB,6BAAmB,CAAA;MACnB,6BAAmB,CAAA;MACnB,6BAAmB,CAAA;EACrB,CAAC,EAJWA,cAAM,KAANA,cAAM,QAIjB;EAaD;;;;;;;;;;;;;;;QAea,OAAO,GAAG,CAAC,EACtB,QAAQ,EACR,MAAM,EACN,GAAG,OAAO,EACG;MACb,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAGC,cAAQ,CAACD,cAAM,CAAC,OAAO,CAAC,CAAC;MAErDE,eAAS,CAAC;UACR,IAAIC,kBAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,CAC7B,MAAM,SAAS,CAACH,cAAM,CAAC,OAAO,CAAC,EAC/B,MAAM,SAAS,CAACA,cAAM,CAAC,OAAO,CAAC,CAChC,CAAC;OACH,EAAE,EAAE,CAAC,CAAC;MAEP,IAAI,MAAM,KAAKA,cAAM,CAAC,OAAO,IAAI,QAAQ;UAAE,OAAOI,kFAAG,QAAQ,CAAI,CAAC;MAElE,IAAI,MAAM;UAAE,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC;MAElC,OAAOA,iFAAK,CAAC;EACf;;;;;;;;;;"}